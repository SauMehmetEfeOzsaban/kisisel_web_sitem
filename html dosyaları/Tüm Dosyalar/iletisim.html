<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>İletişim Sayfası</title> <!-- iletişim sayfası pencere başlığı-->
  <link rel="stylesheet" href="css/style.css"> <!-- Harici CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- bootstrapt kütüphanesi-->
</head>
<body class="iletisim-body"> <!-- sadece bu dosya için hazırladığım css clasımı çağırıdm  -->

  <div class="container mt-5 mb-5 iletisim-container"> <!-- bootstrapt ile üstten ve alttan boşluklar verdim ve içerikleri ortaladım-->
    <h2 class="text-center mb-4">İletişim Formu</h2>
    <form id="iletisimFormu" class="iletisim-form" action="iletisim.php" method="post"> <!-- php dosyamı çağırdım-->

      <!-- Ad Soyad kısmı -->
      <div class="mb-3"> 
        <label for="adsoyad" class="form-label">Ad Soyad:</label>
        <input type="text" class="form-control" id="adsoyad" name="adsoyad" placeholder="Ad Soyad">
      </div>

      <!-- E-posta için input tipini email seçtim -->
      <div class="mb-3">
        <label for="email" class="form-label">E-posta:</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="@email">
      </div>

      <!-- Telefon bölümünü input tipini text olarak seçtim -->
      <div class="mb-3">
        <label for="telefon" class="form-label">Telefon:</label>
        <input type="text" class="form-control" id="telefon" name="telefon" placeholder="Tel No">
      </div>

      <!-- Cinsiyet ögesi için de radio button kullandım ve burda name lerini aynı yaptım ki sadece 1 tanesi seçilsin -->
      <div class="mb-3">
        <label class="form-label d-block">Cinsiyet:</label>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="cinsiyet" id="erkek" value="Erkek">
          <label class="form-check-label" for="erkek">Erkek</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="cinsiyet" id="kadin" value="Kadın">
          <label class="form-check-label" for="kadin">Kadın</label>
        </div>
      </div>

      <!-- İlgi Alanları kısmında checkbox şeklinde html sayfama dahil ettim -->
      <div class="mb-3">
        <label class="form-label d-block">İlgi Alanlarınız:</label>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="ilgi[]" value="Spor" id="spor">
          <label class="form-check-label" for="spor">Spor</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="ilgi[]" value="Müzik" id="muzik">
          <label class="form-check-label" for="muzik">Müzik</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="ilgi[]" value="Kitap" id="kitap">
          <label class="form-check-label" for="kitap">Kitap</label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="ilgi[]" value="Diger" id="diger">
          <label class="form-check-label" for="diger">Diğer</label>
        </div>
      </div>

      <!-- Şehir Seçimi kımsını select option yapısıyla formuma ekledim -->
      <div class="mb-3">
        <label for="sehir" class="form-label">Şehir:</label>
        <select class="form-select" id="sehir" name="sehir">
          <option value="">Şehir Seçiniz</option>
          <option value="Tekirdağ">Tekirdağ</option>
          <option value="İstanbul">İstanbul</option>
          <option value="Ankara">Ankara</option>
          <option value="İzmir">İzmir</option>
          <option value="Edirne">Edirne</option>
          <option value="Bursa">Bursa</option>
          <option value="Sakarya">Sakarya</option>
          <option value="Kocaeli">Kocaeli</option>
          <option value="Adana">Adana</option>
        </select>
      </div>

      <!-- Mesaj kutusunu text area form ögeisle oluşturdum -->
      <div class="mb-3">
        <label for="mesaj" class="form-label">Mesajınız:</label>
        <textarea class="form-control" id="mesaj" name="mesaj" rows="4" placeholder="Fikirlerinizi veya Mesajlarınızı buraya yazınız..."></textarea>
      </div>

      <!-- Butonları oluşturudm bunlar js,vue ile kontrol et butonları ,temizle butonu ve bir sayfada göstermesi için gönder butonu -->
      <div class="d-flex justify-content-between flex-wrap gap-2">
        <button type="button" class="btn btn-primary" id="vueKontrolbtn">Vue ile Kontrol Et </button>
        <button type="reset" class="btn btn-secondary">Temizle</button>
        <button type="button" class="btn btn-warning" id="kontrolBtn">Java Script ile Kontrol Et</button>
        <button type="submit" class="btn btn-success">Gönder</button> 

      </div>

    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script> <!-- vue framework ünü sayfaya dahil eden kısım-->
  <script src="iletisim_formkontrol.js"></script> <!-- js dosyamı sayfada dahil eden kısım-->
  <script>
 
 
 new Vue({   // vue uygulamasını başlattım
    el: '#iletisimFormu', // vue uygulaması html formuma bağlanıyor 
   
   // formun içerdiği her öge için veri tipi atadım
    data: {          
      adsoyad: '',
      email: '',
      telefon: '',
      cinsiyet: '',
      ilgi: [],
      sehir: '',
      mesaj: ''
    },
    methods: {       // vue içinde tanımlanacak fonkisyonlar bunun içinde
      vueKontrol() {    //vue kontrol adında bir fonksiyon oluşturdum kontrol komutlarım bunun içinde
        let errors = [];  //hataları tutmak için oluşturduğum dizi

        if (this.adsoyad.trim() === '') errors.push("Ad Soyad boş olamaz."); //ad soyad kısmı boşsa errors adlı diziye eklenir
       // girilen e posta yı regex ile kontrol ediyor geçerli değilse hata veriyor
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)) errors.push("Geçerli e-posta giriniz.");
        // telefon kısmının sadece rakamlardan oluşup oluşmadığını ve karakter sayısının 10-15 arası olup olmadığını kontrol ediyor
        if (!/^[0-9]{10,15}$/.test(this.telefon)) errors.push("Telefon 10-15 haneli rakam olmalı.");
        if (this.cinsiyet === '') errors.push("Cinsiyet seçiniz."); // cinsiyet kısmı boşsa uyarı verir
        if (this.ilgi.length === 0) errors.push("İlgi alanı seçiniz."); // ilgi alanı seçilmediyse hata verir
        if (this.sehir === '') errors.push("Şehir seçiniz."); // şehir seçilmemiş ise hata verilir
        if (this.mesaj.trim() === '') errors.push("Mesaj boş olamaz."); // mesaj kutusu boşsa hata verir

       // eğer errors adlı dizi boş değilse tüm mesajları alt alta sıralayark hata mesajlarını alert verir
        if (errors.length > 0) {
          alert("Vue.js Kontrol Hataları:\n" + errors.join("\n"));
        } else {     //değilse böyle bir alet mesajı verir
          alert("Vue.js kontrolü başarılı! Form gönderiliyor...");
          document.getElementById("iletisimFormu").submit(); // formu gönder
        }
      }
    }
  });
            // vue kontrol et butonuna tıklanınca çalışacağını yazdım
  document.getElementById("vueKontrolbtn").addEventListener("click", function () {
    let vueApp = document.getElementById("iletisimFormu").__vue__;
    vueApp.vueKontrol();   // ve vue kontrol çağırılır
  });
</script>
</body>
</html>
